---
import Layout from "../layouts/Layout.astro";
import LazyImage from "../components/LazyImage.astro";
import FallbackImage from "../assets/blog-placeholder-about.jpg";
import { getCollection } from "astro:content";
import { getImgproxyUrl } from "../utils/imgproxy";

const allPosts = (await getCollection("articulos")).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
const recentPosts = allPosts.slice(0, 6);

const schema = {
	"@context": "https://schema.org",
	"@type": "Article",
	name: "El Poder del Ser",
	url: "https://luciotorres.online/poder-del-ser",
	author: {
		"@type": "Person",
		name: "Edison Lucio Torres",
	},
	description:
		"Filosofía y mensaje de Lucio Torres sobre El Poder del Ser. Una revolución espiritual y política para Colombia.",
};

function extractSlugFromPath(id: string): string {
	const parts = id.split("/");
	return parts[parts.length - 1];
}
---

<Layout
	title="El Poder del Ser - Filosofía"
	description="El Poder del Ser - Filosofía y mensaje de Lucio Torres. Una revolución espiritual y política para Colombia."
	ogImage={FallbackImage.src}
	schema={schema}
>
	<!-- HERO SECTION -->
	<section
		class="py-32 bg-white relative overflow-hidden px-6 lg:px-12 border-b border-base-300"
	>
		<div class="max-w-7xl mx-auto text-center">
			<div class="flex items-center justify-center gap-4 mb-12">
				<div
					class="flag-separator w-16 h-2 rounded-full overflow-hidden"
				>
					<div class="y"></div>
					<div class="b"></div>
					<div class="r"></div>
				</div>
				<span
					class="text-xs font-black uppercase tracking-[0.5em] text-neutral"
					>FILOSOFÍA</span
				>
				<div
					class="flag-separator w-16 h-2 rounded-full overflow-hidden"
				>
					<div class="y"></div>
					<div class="b"></div>
					<div class="r"></div>
				</div>
			</div>

			<h1
				class="text-5xl sm:text-7xl md:text-[10rem] font-editorial font-black leading-[0.9] text-neutral uppercase tracking-tighter mb-8 md:mb-12"
			>
				EL PODER <br />
				<span class="text-secondary">DEL SER.</span>
			</h1>

			<p
				class="text-3xl md:text-4xl font-editorial font-bold text-neutral/80 leading-tight max-w-4xl mx-auto italic"
			>
				"La revolución que comienza dentro de ti. Descubre el poder
				transformador de la consciencia."
			</p>
		</div>
	</section>

	<!-- INTRO SECTION -->
	<section class="py-32 bg-white px-6 lg:px-12">
		<div class="max-w-3xl mx-auto prose-journal">
			<h2
				class="text-4xl sm:text-5xl font-editorial font-black text-neutral uppercase tracking-tight mb-8 md:mb-12"
			>
				Una Nueva Visión
			</h2>
			<p>
				El mundo político padecen la misma enfermedad trágica que
				encarnan dos reconocidos gemelos: José Arcadio y Aureliano
				Buendía. El primero, machote y extrovertido, asume la violencia
				a flor de piel, sin justificación política. El segundo, con una
				aparente serenidad, la violencia la internaliza como ideología.
			</p>
			<p>
				Los dos surgen desde el mismo tronco: el <strong>Ego</strong>.
				Si seguimos esta dinámica, jamás encontraremos paz y felicidad.
			</p>
			<blockquote
				class="text-3xl font-editorial font-black text-secondary italic my-12 border-l-8 border-primary pl-8"
			>
				Para no seguir atados a esta tragedia de "los Buendía", hay que
				inmanifestar lo que hasta ahora no se ha manifestado: el Ser que
				está dentro de ti.
			</blockquote>
		</div>
	</section>

	<!-- PRINCIPLES -->
	<section
		class="py-32 bg-base-200/30 px-6 lg:px-12 border-y border-base-300"
	>
		<div class="max-w-screen-2xl mx-auto">
			<div class="grid grid-cols-1 md:grid-cols-4 gap-12">
				{
					[
						{
							num: "01",
							title: "Respeto",
							desc: "La base de toda transformación. Por uno mismo, por los demás y por el planeta.",
						},
						{
							num: "02",
							title: "Solidaridad",
							desc: "El puente que conecta el Ego con el Ser. Juntos somos más fuertes.",
						},
						{
							num: "03",
							title: "Consciencia",
							desc: "El verdadero cambio comienza en el momento presente. Aquí y ahora.",
						},
						{
							num: "04",
							title: "Transformación",
							desc: "Un viaje continuo de crecimiento y evolución hacia la soberanía personal.",
						},
					].map((item) => (
						<div class="bg-white p-12 border border-base-300 transition-all duration-500 hover:shadow-2xl">
							<div class="text-5xl font-editorial font-black text-primary/30 mb-6 italic">
								{item.num}
							</div>
							<h3 class="text-xl sm:text-2xl font-editorial font-black text-neutral uppercase tracking-tight mb-4">
								{item.title}
							</h3>
							<p class="text-neutral/60 font-medium leading-relaxed">
								{item.desc}
							</p>
						</div>
					))
				}
			</div>
		</div>
	</section>

	<!-- BIG QUOTE -->
	<section class="py-40 bg-white px-6 lg:px-12">
		<div class="max-w-5xl mx-auto text-center">
			<blockquote
				class="text-4xl md:text-6xl font-editorial font-black text-neutral leading-[1.1] tracking-tighter uppercase italic"
			>
				"La Gran Colombia se forja desde tu corazón, desde el <span
					class="text-highlight">Yo Soy.</span
				>"
			</blockquote>
			<p
				class="text-xl font-black uppercase tracking-[0.4em] text-secondary mt-12"
			>
				EL VOTO OCURRE EN LA CONCIENCIA
			</p>
		</div>
	</section>

	<!-- ARTICLES SECTION -->
	<section
		class="py-32 bg-base-200/50 px-6 lg:px-12 border-t border-base-300"
	>
		<div class="max-w-screen-2xl mx-auto">
			<div class="flex justify-between items-end mb-20">
				<h2
					class="text-5xl font-editorial font-black text-neutral uppercase tracking-tighter"
				>
					ÚLTIMOS <br /><span class="text-accent">ESCRITOS.</span>
				</h2>
				<a
					href="/articulos"
					class="text-xs font-black uppercase tracking-widest border-b-2 border-primary pb-1 hover:text-secondary transition-colors"
					>VER TODO</a
				>
			</div>
			<div class="grid grid-cols-1 md:grid-cols-3 gap-12">
				{
					recentPosts.map((post) => (
						<article class="bg-white border border-base-300 group transition-all duration-500 hover:shadow-2xl">
							<figure class="aspect-16/10 overflow-hidden grayscale group-hover:grayscale-0 transition-all duration-700">
								{post.data.heroImage ? (
									<img
										src={getImgproxyUrl(
											post.data.heroImage,
											600,
											375,
										)}
										alt={post.data.title}
										class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"
									/>
								) : (
									<div class="w-full h-full bg-base-200" />
								)}
							</figure>
							<div class="p-10">
								<h3 class="text-2xl font-editorial font-black mb-4 leading-tight group-hover:text-secondary transition-colors uppercase">
									<a
										href={`/articulos/${extractSlugFromPath(post.id)}/`}
									>
										{post.data.title}
									</a>
								</h3>
								<p class="text-neutral/60 line-clamp-2 text-sm font-medium italic mb-6">
									{post.data.description}
								</p>
								<a
									href={`/articulos/${extractSlugFromPath(post.id)}/`}
									class="text-[10px] font-black uppercase tracking-widest text-accent"
								>
									LEER MÁS →
								</a>
							</div>
						</article>
					))
				}
			</div>
		</div>
	</section>

	<!-- CTA FINAL -->
	<section class="py-40 bg-neutral text-white text-center px-6">
		<div class="max-w-4xl mx-auto">
			<h2
				class="text-5xl sm:text-7xl md:text-[8rem] font-editorial font-black mb-12 uppercase tracking-tighter leading-none"
			>
				SÉ EL <br />
				<span class="text-primary italic text-highlight">CAMBIO.</span>
			</h2>
			<div class="flex flex-wrap gap-8 justify-center mt-16">
				<a href="/gran-colombia" class="btn-hero-primary">
					LA GRAN COLOMBIA
				</a>
				<a
					href="/"
					class="btn-hero-secondary text-white! border-white! hover:bg-white! hover:text-neutral!"
				>
					VOLVER AL INICIO
				</a>
			</div>
		</div>
	</section>
</Layout>
